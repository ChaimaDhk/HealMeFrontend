
<div class="row">
  <div class="col-lg-3 col-md-6 col-sm-6">
    <div class="card card-stats">
      <div class="card-body ">
        <div class="row">
          <div class="col-5 col-md-4">
            <div class="icon-big text-center icon-warning">
              <i class="nc-icon nc-globe text-warning"></i>
            </div>
          </div>
          <div class="col-7 col-md-8">
            <div class="numbers">
              <p class="card-category">Docteurs</p>
              <p class="card-title">{{doctorsarray.length}}
                <p>
            </div>
          </div>
        </div>
      </div>
      <div class="card-footer ">
        <hr>
        <div class="stats">
          <i class="fa fa-refresh"></i> Update Now
        </div>
      </div>
    </div>
  </div>
  <div class="col-lg-3 col-md-6 col-sm-6">
    <div class="card card-stats">
      <div class="card-body ">
        <div class="row">
          <div class="col-5 col-md-4">
            <div class="icon-big text-center icon-warning">
              <i class="nc-icon nc-money-coins text-success"></i>
            </div>
          </div>
          <div class="col-7 col-md-8">
            <div class="numbers">
              <p class="card-category">Patients</p>
              <p class="card-title">{{usersarray.length}}
                <p>
            </div>
          </div>
        </div>
      </div>
      <div class="card-footer ">
        <hr>
        <div class="stats">
          <i class="fa fa-calendar-o"></i> Last day
        </div>
      </div>
    </div>
  </div>
  <div class="col-lg-3 col-md-6 col-sm-6">
    <div class="card card-stats">
      <div class="card-body ">
        <div class="row">
          <div class="col-5 col-md-4">
            <div class="icon-big text-center icon-warning">
              <i class="nc-icon nc-vector text-danger"></i>
            </div>
          </div>
          <div class="col-7 col-md-8">
            <div class="numbers">
              <p class="card-category">Rendez Vous</p>
              <p class="card-title">{{rendezvousarray.length}}
                <p>
            </div>
          </div>
        </div>
      </div>
      <div class="card-footer ">
        <hr>
        <div class="stats">
          <i class="fa fa-clock-o"></i> In the last hour
        </div>
      </div>
    </div>
  </div>
  <div class="col-lg-3 col-md-6 col-sm-6">
    <div class="card card-stats">
      <div class="card-body ">
        <div class="row">
          <div class="col-5 col-md-4">
            <div class="icon-big text-center icon-warning">
              <i class="nc-icon nc-favourite-28 text-primary"></i>
            </div>
          </div>
          <div class="col-7 col-md-8">
            <div class="numbers">
              <p class="card-category">Followers</p>
              <p class="card-title">+45K
                <p>
            </div>
          </div>
        </div>
      </div>
      <div class="card-footer ">
        <hr>
        <div class="stats">
          <i class="fa fa-refresh"></i> Update now
        </div>
      </div>
    </div>
  </div>
</div>
<div class="row">
  <div class="col-md-12">
    <div class="card ">
      <div class="card-header ">
        <h5 class="card-title">Liste des Docteurs</h5>
        <p class="card-category">24 Hours performance</p>
      </div>
      <div class="card-body ">
        <p-toolbar styleClass="mb-4 gap-2">
          <ng-template pTemplate="left">
            <button pButton pRipple label="New" icon="pi pi-plus" class="p-button-success mr-2" (click)="openNew()"></button>
            <button pButton pRipple [label]="Delete" icon="pi pi-trash" class="p-button-danger" (click)="deleteSelectedDoctors()" [disabled]="!selectedDoctors || !selectedDoctors.length"></button>
          </ng-template>

          <ng-template pTemplate="right">
            <p-fileUpload mode="basic" accept="image/*" [maxFileSize]="1000000" label="Import" chooseLabel="Import" class="mr-2 inline-block"></p-fileUpload>
            <button pButton pRipple label="Export" icon="pi pi-upload" class="p-button-help"></button>
          </ng-template>
        </p-toolbar>

        </div>
        <p-table #dt [value]="doctorsarray" [rows]="10" [paginator]="true" [globalFilterFields]="['name']" [tableStyle]="{'min-width': '75rem'}"
                 [(selection)]="selectedDoctor" [rowHover]="true" dataKey="email"
                 currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries" [showCurrentPageReport]="true">
          <ng-template pTemplate="caption">
            <div class="flex align-items-center justify-content-between">
              <h5 class="m-0">Gestion des Docteurs</h5>
            </div>
          </ng-template>
          <ng-template pTemplate="header">
            <tr>
              <th style="width: 4rem">
                <p-tableHeaderCheckbox></p-tableHeaderCheckbox>
              </th>
              <th pSortableColumn="name" style="min-width:15rem">Nom <p-sortIcon field="name"></p-sortIcon></th>
              <th pSortableColumn="surname">Prenom <p-sortIcon field="surname"></p-sortIcon></th>
              <th pSortableColumn="Email" style="min-width:10rem">Email<p-sortIcon field="Email"></p-sortIcon></th>
              <th pSortableColumn="Phone">Telephone<p-sortIcon field="Phone"></p-sortIcon></th>
              <th pSortableColumn="Speciality" style="min-width:10rem">Specialité<p-sortIcon field="inventoryStatus"></p-sortIcon></th>
              <th></th>
            </tr>
          </ng-template>
          <ng-template pTemplate="body" let-doctor>
            <tr>
              <td>
                <p-tableCheckbox [value]="doctor"></p-tableCheckbox>
              </td>
               <td>{{doctor.name}}</td>
              <td>{{doctor.surname}}</td>
              <td>{{doctor.email}}</td>
              <td>{{doctor.phone}}</td>
              <td>{{doctor.speciality}}</td>
              <td>
                <button pButton pRipple icon="pi pi-pencil" class="p-button-rounded p-button-success mr-2" (click)="editDoctor(doctor)"></button>
                <button pButton pRipple icon="pi pi-trash" class="p-button-rounded p-button-warning" (click)="deleteDoctor(doctor)"></button>
              </td>
            </tr>
          </ng-template>
          <ng-template pTemplate="summary">
            <div class="flex align-items-center justify-content-between">
              Il y a un total de  {{doctorsarray ? doctorsarray.length : 0 }} docteurs
            </div>
          </ng-template>
        </p-table>
      </div>
      <div class="card-footer ">
        <hr>
        <div class="stats">
          <i class="fa fa-history"></i> Updated 3 minutes ago
        </div>
      </div>
    </div>
  </div>
<p-dialog [(visible)]="docdialog" [style]="{width: '450px'}" header="Formulaire d'ajout du docteur"  [modal]="true" styleClass="p-fluid">
  <ng-template pTemplate="content">
    <div class="field">
      <span class="p-float-label">
      <input type="text" pInputText id="name" [(ngModel)]="doctor.name" required  />
      <label for="name">Nom</label>
      <small class="p-error" *ngIf="submitted && !doctor.name">Nom est requis</small>
    </span>
    </div>
    <div class="field">
      <span class="p-float-label">
      <input pInputText id="surname"  [(ngModel)]="doctor.surname" required />
        <label for="surname">Prenom</label>
      <small class="p-error" *ngIf="submitted && !doctor.surname">Prenom est requis</small>
    </span>
    </div>
    <div class="field">
      <span class="p-float-label">
      <input pInputText id="mail" [(ngModel)]="doctor.email" required />
        <label for="mail">Email</label>
        <small class="p-error" *ngIf="submitted && !doctor.email">Email est requis</small>
      </span>
    </div>
    <div class="field">
      <span class="p-float-label">
        <input pInputText id="password" [(ngModel)]="doctor.password" required/>
        <label for="password">Mot de passe</label>
        <small class="p-error" *ngIf="submitted && !doctor.password">Mot de passe est requise</small>
      </span>
    </div>
    <div class="field">
      <span class="p-float-label">
      <input pInputText id="phone" [(ngModel)]="doctor.phone" required />
        <label for="phone">Telephone</label>
        <small class="p-error" *ngIf="submitted && !doctor.phone">Telephone est requis</small>
      </span>
    </div>
    <div class="field">
      <span class="p-float-label">
        <input pInputText id="location" [(ngModel)]="doctor.location" required/>
        <label for="location">Localisation</label>
          <small class="p-error" *ngIf="submitted && !doctor.location">Localisation est requise</small>
      </span>
    </div>
    <div class="field">
      <span class="p-float-label">
      <input pInputText id="speciality" [(ngModel)]="doctor.speciality" required />
        <label for="speciality">Specialité</label>
        <small class="p-error" *ngIf="submitted && !doctor.speciality">Specialité est requis</small>
      </span>
    </div>

  </ng-template>

  <ng-template pTemplate="footer">
    <button pButton pRipple label="Cancel" icon="pi pi-times" class="p-button-text" (click)="hideDialog()"></button>
    <button pButton pRipple label="Save" icon="pi pi-check" class="p-button-text" (click)="AddDoctor(doctor)"></button>
  </ng-template>
</p-dialog>

<p-confirmDialog [style]="{width: '450px'}"></p-confirmDialog>
